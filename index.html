<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Fandy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="record some interesting things">
<meta property="og:type" content="website">
<meta property="og:title" content="Fandy">
<meta property="og:url" content="http://blog.fandypeng.com/index.html">
<meta property="og:site_name" content="Fandy">
<meta property="og:description" content="record some interesting things">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fandy">
<meta name="twitter:description" content="record some interesting things">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo"></a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">分类</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.fandypeng.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-egret" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/30/egret/" class="article-date">
  <time datetime="2015-11-30T15:41:46.000Z" itemprop="datePublished">2015-11-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/30/egret/">egret</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="egret的一些点">egret的一些点</h1><h2 id="如何设置分辨率自适应">如何设置分辨率自适应</h2><p>egret默认自带了分辨率自适应的几种应用模式，移动端最合适的是noBorder和showAll模式，noBorder已经能够很好的兼容大部分的屏幕，但是遇到微信浏览器，顶部的状态栏会占用一部分显示容器的高度，所以顶部会有一部分内容被遮住，这时候可以使用js的一些方法，动态计算出可视区域的高度，从而在载入舞台的时候，动态调整舞台高度，实现过程如下：</p>
<h3 id="判断微信浏览器">判断微信浏览器</h3><figure class="highlight typescript"><figcaption><span>title:动态调整舞台高度</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是不是微信浏览</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> isWeiXin(): <span class="built_in">boolean</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> ua = <span class="built_in">window</span>.navigator.userAgent.toLowerCase();</span><br><span class="line">        <span class="keyword">var</span> microStr = <span class="string">""</span> + ua.match(<span class="regexp">/MicroMessenger/i</span>);</span><br><span class="line">        <span class="keyword">if</span>(microStr == <span class="string">"null"</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(microStr == <span class="string">"micromessenger"</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="计算浏览器高度">计算浏览器高度</h3><figure class="highlight typescript"><figcaption><span>title:动态调整舞台高度</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取在微信中，舞台的高度</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getWeixinStageHeight</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> vh = <span class="built_in">window</span>.innerHeight * <span class="built_in">window</span>.devicePixelRatio;</span><br><span class="line">        <span class="keyword">var</span> vw = <span class="built_in">window</span>.innerWidth * <span class="built_in">window</span>.devicePixelRatio;</span><br><span class="line">        <span class="keyword">return</span> GameConfig.gameWidth / (vw / vh);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上两段代码，在初始化舞台的时候调用，舞台容器中使用动态布局，即可完美自适应微信浏览器。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.fandypeng.com/2015/11/30/egret/" data-id="cihm6nq5h0000rq9kojpq8xkm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-FirstPage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/27/FirstPage/" class="article-date">
  <time datetime="2015-11-26T16:29:38.000Z" itemprop="datePublished">2015-11-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/27/FirstPage/">First Page</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="first_start">first start</h2><p>this is the first time I write a blog, well My English is not good,but I have <a href="http://fanyi.baidu.com" target="_blank" rel="external">Baidu Translate Service</a>,haha.</p>
<h2 id="How_do_I_start">How do I start</h2><p>I want to start a blog a long time ago, but I did’t find a good blog tool that I like.<br>someone had suggest me the <a href="https://www.wordpress.com" target="_blank" rel="external">WordPress</a>,well ,the new wordpress.com was rewrite by node.js,it’s faster and lighter,but in China you have to accept the net wall.</p>
<p>Recently I found a good blog tool,whick is supported by node.js, and I don’t have to warried about the webserver.</p>
<p>Now let me introduce you the <a href="https://www.hexo.io" target="_blank" rel="external">Hexo</a>,you can start your blog with this tool,you can wirte your blog with Markdown,and he can anylysis what you writed ,then translate your blog in html,you can upload your html to <a href="http://pages.github.com" target="_blank" rel="external">Github Pages</a>.</p>
<h2 id="new_step">new step</h2><p>this is the new step in my life,I will wirte something in my blog and share with you .Stay tuned for more pages.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.fandypeng.com/2015/11/27/FirstPage/" data-id="cihm6nq5u0001rq9kujg6eyjw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/11/30/egret/">egret</a>
          </li>
        
          <li>
            <a href="/2015/11/27/FirstPage/">First Page</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Fandy Peng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">分类</a>
  
</nav>
    

<script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>